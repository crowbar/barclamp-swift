
%input#proposal_attributes{:type => "hidden", :name => "proposal_attributes", :value => @proposal.raw_data['attributes'][@proposal.barclamp].to_json}
%p
  %label{:for => "proposal_attributes"}= t('.attributes')
  = link_to "Raw", proposal_barclamp_path(:id => @proposal.name, :controller => @proposal.barclamp, :dep_raw => @dep_raw, :attr_raw => true), :style => "float: right;"
  %div.container
    %p
      %label{ :for => :keystone_instance }= t('.keystone_instance')
      = instance_selector("keystone", :keystone_instance, "keystone_instance", @proposal)
    %p
      %label{ :for => :keystone_service_user }= t('.keystone_service_user')
      %input#keystone_service_user{:type => "text", :name => "keystone_service_user", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["keystone_service_user"], :onchange => "update_value('keystone_service_user','keystone_service_user', 'string')"}
    %p
      %label{ :for => :keystone_service_password }= t('.keystone_service_password')
      %input#keystone_service_password{:type => "text", :name => "keystone_service_password", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["keystone_service_password"], :onchange => "update_value('keystone_service_password','keystone_service_password', 'string')"}

    -# %p
      -# %label{ :for => :use_slog }= t('.install_slog')
      -# = select_tag :use_slog, options_for_select([['true','true'], ['false', 'false']], @proposal.raw_data['attributes'][@proposal.barclamp]["use_slog"].to_s), :onchange => "update_value('use_slog', 'use_slog', 'boolean')"
    = render 'barclamp/git/pfsdeps.html.haml'
    %p
      %label{ :for => :zones }= t('.zones')
      %input#zones{:type => "text", :name => "zones", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["zones"], :onchange => "update_value('zones', 'zones', 'integer')"}

    %p
      %label{ :for => :partitions }= t('.partitions')
      %input#partitions{:type => "text", :name => "partitions", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["partitions"], :onchange => "update_value('partitions', 'partitions', 'integer')"}

    %p
      %label{ :for => :min_part_hours }= t('.min_part_hours')
      %input#min_part_hours{:type => "text", :name => "min_part_hours", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["min_part_hours"], :onchange => "update_value('min_part_hours', 'min_part_hours', 'integer')"}

    %p
      %label{ :for => :replicas }= t('.replicas')
      %input#replicas{:type => "text", :name => "replicas", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["replicas"], :onchange => "update_value('replicas', 'replicas', 'integer')"}

    %p
      %label{ :for => :cluster_hash }= t('.cluster_hash')
      %input#cluster_hash{:type => "text", :name => "cluster_hash", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["cluster_hash"], :onchange => "update_value('cluster_hash', 'cluster_hash', 'string')"}

    %p
      %label{ :for => :cluster_admin_pw }= t('.cluster_admin_pw')
      %input#cluster_admin_pw{:type => "text", :name => "cluster_admin_pw", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["cluster_admin_pw"], :onchange => "update_value('cluster_admin_pw', 'cluster_admin_pw', 'string')"}

    %p
      %label{ :for => :user }= t('.user')
      %input#user{:type => "text", :name => "user", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["user"], :onchange => "update_value('user', 'user', 'string')"}

    %p
      %label{ :for => :group }= t('.group')
      %input#group{:type => "text", :name => "group", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["group"], :onchange => "update_value('group', 'group', 'string')"}

    -# %p
      %label{ :for => :slog_account }= t('.slog_account')
      %input#slog_account{:type => "text", :name => "slog_account", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["slog_account"], :onchange => "update_value('slog_account', 'slog_account', 'string')"}

    -# %p
      %label{ :for => :slog_user }= t('.slog_user')
      %input#slog_user{:type => "text", :name => "slog_user", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["slog_user"], :onchange => "update_value('slog_user', 'slog_user', 'string')"}

    -# %p
      %label{ :for => :slog_passwd }= t('.slog_passwd')
      %input#slog_passwd{:type => "text", :name => "slog_passwd", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["slog_passwd"], :onchange => "update_value('slog_passwd', 'slog_passwd', 'string')"}

    %p
      %label{ :for => :debug }= t('.debug')
      = select_tag :debug, options_for_select([['true','true'], ['false', 'false']], @proposal.raw_data['attributes'][@proposal.barclamp]["debug"].to_s), :onchange => "update_value('debug', 'debug', 'boolean')"
    %div{ :id => 's3_parameters', :class => 'container' }
      %p
        %label{ :for => :s3_header }= t('.s3_parameters')
      %div.container
        %p
          %label{ :for => :gitrepo }= t('.s3.gitrepo')
          %input#gitrepo{:type => "text", :name => "gitrepo", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["s3"]["gitrepo"], :onchange => "update_value('s3/gitrepo', 'gitrepo', 'string')"}
        %p
          %label{ :for => :git_refspec }= t('.s3.git_refspec')
          %input#git_refspec{:type => "text", :name => "git_refspec", :'data-default' => @proposal.raw_data['attributes'][@proposal.barclamp]["s3"]["git_refspec"], :onchange => "update_value('s3/git_refspec', 'git_refspec', 'string')"}
        %p
          %label{ :for => :use_gitrepo }= t('.s3.use_gitrepo')
          = select_tag :use_gitrepo, options_for_select([['true','true'], ['false', 'false']], @proposal.raw_data['attributes'][@proposal.barclamp]["s3"]["use_gitrepo"].to_s), :onchange => "update_value('s3/use_gitrepo', 'use_gitrepo', 'boolean')"
        %p
          %label{ :for => :use_gitbarclamp }= t('.s3.use_gitbarclamp')
          = select_tag :use_gitbarclamp, options_for_select([['true','true'], ['false', 'false']], @proposal.raw_data['attributes'][@proposal.barclamp]["s3"]["use_gitbarclamp"].to_s), :onchange => "update_value('s3/use_gitbarclamp', 'use_gitbarclamp', 'boolean')"

